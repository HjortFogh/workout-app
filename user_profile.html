<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title class="template">{{personal.realname}} | Trænings-App</title>
        <link rel="stylesheet" href="styles.css" />
    </head>
    <body>
        <div class="container">
            <div class="topnav">
                <div class="topnav-right">
                    <a href="#" onclick="logout()">🔓Log af</a>
                    <a href="/index.html">🏠Hjem</a>
                </div>
            </div>

            <div style="padding: 1rem">
                <h2 class="template">{{personal.realname}} (#{{personal.username}})</h2>
                <h3 class="template">T-Bucks: {{personal.tb_balance}}</h3>

                <br />

                <label>Opdater dit rigtige navn:</label><br />
                <input style="margin: 0.4rem 0" type="text" id="realname-input" placeholder="☛Navn" /><br />
                <button type="button" onclick="handleUpdateRealname()">Gem ændringer</button><br />
            </div>
        </div>

        <script defer type="module" src="client/templates.js"></script>
        <script defer type="module" src="client/session.js"></script>
        <script defer type="module" src="database/repopulate.js"></script>
        <script defer>
            function handleUpdateRealname() {
                userData((userdata) => {
                    let realname = document.getElementById("realname-input").value;
                    if (realname.length == 0) return;
                    let username = userdata.personal.username;
                    changeUserRealName(username, realname);
                    location.reload();
                });
                document.getElementById("realname-input").value = "";
            }
        </script>
    </body>
</html>
