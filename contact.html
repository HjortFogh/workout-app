<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Kontakt fysioterapeut | Tr√¶nings-App</title>
        <link rel="stylesheet" href="styles.css" />
    </head>
    <body>
        <div class="container" style="display: flex; flex-direction: column">
            <div class="topnav">
                <div class="topnav-right">
                    <a href="#" onclick="logout()">üîìLog af</a>
                    <a href="/index.html">üè†Hjem</a>
                </div>
            </div>

            <div style="padding: 1rem; flex-grow: 1">
                <div id="message-container" style="height: 85%"></div>
                <div style="height: 15%; display: flex; flex-direction: row">
                    <input id="message-text" type="text" style="height: 92%; flex-grow: 1" />
                    <button id="send-button" style="height: 100%; width: 6vh">Send</button>
                </div>
            </div>
        </div>

        <script defer type="module" src="client/templates.js"></script>
        <script defer type="module" src="client/session.js"></script>
        <script defer type="module" src="database/repopulate.js"></script>
        <script defer>
            function sendMessage(text) {
                userData((user) => {
                    let frame = document.getElementById("message-container");
                    frame.innerHTML += `<div style="margin-left: 0;"><p style="margin: 0 0 1vh 0; width: 60%; background-color: #c2cfbd" class="container-sub-box">${text}</p><p style="margin-top: 0;">${user.personal.realname}</p></div>`;
                });
            }

            document.getElementById("send-button").onclick = function () {
                let text = document.getElementById("message-text").value;
                sendMessage(text);
                document.getElementById("message-text").value = "";
            };
        </script>
    </body>
</html>
